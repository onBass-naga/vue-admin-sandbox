<template>
  <div class="container">
    <div class="wrapper">
      <label v-if="showLabel" :for="_uid">{{ label }}</label>
      <input 
          :type="type" 
          :name="name" 
          :id="_uid"
          v-model="stateValue"
          @change="() => onChange(stateValue)">
      <div>
        <hr aria-hidden="true">
        <hr aria-hidden="true">
      </div>
    </div>
  </div>
</template>

<script>
export default {
  name: 'TextField',
  data: function () {
    return { stateValue: '' }
  },
  props: {
    type: {
      type: String,
      default: 'text'
    },
    label: {
      type: String,
      default: ''
    },
    name: {
      type: String,
      default: ''
    },
    value: {
      type: String,
      default: ''
    },
    onChange: {
      type: Function,
      default: () => {}
    }
  },
  computed: {
    showLabel () {
      return !this.stateValue || this.stateValue.length < 1
    }
  },
  watch: {
    value: function (newVal, oldVal) {
      if (newVal === oldVal) {
        return
      }
      this.stateValue = newVal
    }
  }
}
</script>

<style scoped>
.container {
  display: flex;
}
.wrapper {
  font-size: 16px; 
  line-height: 24px; 
  width: 100%; 
  height: 72px; 
  display: inline-block; 
  position: relative; 
  background-color: transparent; 
  font-family: Roboto, sans-serif; 
  transition: height 200ms cubic-bezier(0.23, 1, 0.32, 1) 0ms; 
  cursor: auto;
}
label {
  position: absolute; 
  line-height: 22px; 
  top: 38px; 
  transition: all 450ms cubic-bezier(0.23, 1, 0.32, 1) 0ms; 
  z-index: 1; 
  transform: scale(1) translate(0px, 0px); 
  transform-origin: left top 0px; 
  pointer-events: none; 
  user-select: none; 
  color: rgba(0, 0, 0, 0.3);
}

input {
  padding: 0px; 
  position: relative; 
  width: 100%; 
  border: none; 
  outline: none; 
  background-color: rgba(0, 0, 0, 0); 
  color: rgba(0, 0, 0, 0.87); 
  cursor: inherit; 
  font-style: inherit; 
  font-variant: inherit; 
  font-weight: inherit; 
  font-stretch: inherit; 
  font-size: inherit; 
  line-height: inherit; 
  font-family: inherit; 
  opacity: 1; 
  -webkit-tap-highlight-color: rgba(0, 0, 0, 0); 
  height: 100%; 
  box-sizing: border-box; 
  margin-top: 14px;
}

hr {
  border-top: none rgb(224, 224, 224); 
  border-left: none rgb(224, 224, 224); 
  border-right: none rgb(224, 224, 224); 
  border-bottom: 1px solid rgb(224, 224, 224); 
  bottom: 8px; 
  box-sizing: content-box; 
  margin: 0px; 
  position: absolute; 
  width: 100%;
}

.line {
  border-top: none rgb(0, 188, 212); 
  border-left: none rgb(0, 188, 212); 
  border-right: none rgb(0, 188, 212); 
  border-bottom: 2px solid rgb(0, 188, 212); 
  bottom: 8px; 
  box-sizing: content-box; 
  margin: 0px; 
  position: absolute; 
  width: 100%; 
  transform: scaleX(0); 
  transition: all 450ms cubic-bezier(0.23, 1, 0.32, 1) 0ms;
}
</style>
